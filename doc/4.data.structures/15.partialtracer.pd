#N canvas 386 33 977 662 12;
#X obj 797 112 s osc-amp;
#X obj 219 582 line~;
#X obj 219 531 dbtorms;
#X obj 171 526 *~;
#X floatatom 806 244 4 0 0 0 - - - 0;
#X msg 714 261 0;
#X floatatom 846 265 4 0 0 0 - - - 0;
#N canvas 395 221 458 221 peak-template 0;
#X obj 59 81 filledpolygon 3 3 3 0 0 0 amp 0 0;
#X obj 58 41 struct peak-template float x float y float amp;
#X text 55 131 This is a template for ploting FFT amplitude peaks \,
where a polygon is drawn for all peaks., f 46;
#X restore 337 561 pd peak-template;
#N canvas 90 25 851 337 peak-list 1;
#X coords 0 337 1 336 0 0 0;
#X restore 553 496 pd peak-list;
#N canvas 91 253 772 486 trace-list 1;
#X coords 0 121.5 1 121.25 0 0 0;
#X restore 553 475 pd trace-list;
#N canvas 375 90 563 188 trace-template 0;
#X text 65 101 This template describes a pitch/amplitude trace. The
array "bazoo" holds the actual points. In this template \, y is always
0 and x is the starting location in pixels. There are 5 pixels per
point.;
#X obj 84 26 struct trace-template float x float y float voiceno array
bazoo point-template;
#X obj 88 68 plot bazoo 0 1 0 0 5;
#X restore 337 582 pd trace-template;
#N canvas 311 238 528 190 point-template 0;
#X text 64 65 This template describes a single point on a pitch trace
(cf. trace-template w describes the trace itself.);
#X text 64 98 "y" is the field that is shown on the graph \; it's -
4 * pitch. You also get an "amp" field in dB \, which you can't see
as a plot (yet).;
#X obj 113 29 struct point-template float y float amp;
#X restore 337 603 pd point-template;
#X obj 61 451 pack 0 100;
#X obj 61 476 line~;
#X obj 61 428 dbtorms;
#X floatatom 585 79 5 0 110 0 - - - 16;
#N canvas 193 52 484 428 output 0;
#X obj 229 127 t b f;
#X obj 229 152 +;
#X obj 340 294 f;
#X obj 358 252 f;
#X obj 252 325 f;
#X obj 89 193 f;
#X obj 89 21 inlet;
#X text 50 22 mute;
#X obj 89 328 f;
#X msg 211 240 0;
#X msg 89 113 bang;
#X obj 89 221 moses 1;
#X obj 205 91 t b f;
#X obj 198 120 +;
#X obj 180 53 r loop-amp;
#X obj 288 53 r osc-amp;
#X obj 111 378 s loop-amp;
#X obj 211 360 s osc-amp;
#X obj 162 235 f;
#X obj 270 255 f;
#X obj 211 190 t b b;
#X obj 376 53 r grain-amp;
#X obj 340 322 s grain-amp;
#X obj 89 255 b;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 1 0 5 1;
#X connect 2 0 22 0;
#X connect 3 0 2 1;
#X connect 4 0 17 0;
#X connect 5 0 11 0;
#X connect 6 0 10 0;
#X connect 8 0 16 0;
#X connect 9 0 16 0;
#X connect 9 0 17 0;
#X connect 9 0 22 0;
#X connect 10 0 5 0;
#X connect 11 0 23 0;
#X connect 11 1 20 0;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 1 0;
#X connect 14 0 13 0;
#X connect 14 0 18 1;
#X connect 15 0 12 0;
#X connect 15 0 19 1;
#X connect 18 0 8 1;
#X connect 19 0 4 1;
#X connect 20 0 9 0;
#X connect 20 1 18 0;
#X connect 20 1 19 0;
#X connect 20 1 3 0;
#X connect 21 0 3 1;
#X connect 21 0 0 0;
#X connect 23 0 8 0;
#X connect 23 0 4 0;
#X connect 23 0 2 0;
#X restore 879 112 pd output;
#X obj 43 505 *~;
#X obj 43 588 hip~ 5;
#X obj 43 626 dac~;
#X obj 585 112 s loop-amp;
#X msg 879 74 mute;
#X floatatom 109 259 6 0 0 0 location location-set location 16;
#X obj 164 415 r loop-amp;
#X obj 753 299 f;
#X obj 793 298 +;
#X msg 717 332 0;
#X msg 753 244 1;
#X msg 753 380 \; location \$1 \; snapshot bang;
#X floatatom 753 323 6 0 0 0 - - - 0;
#X obj 683 221 t b b;
#X obj 846 241 r incr;
#X obj 61 402 r grain-amp;
#X obj 219 506 r osc-amp;
#N canvas 486 61 753 666 osc-bank 0;
#X msg 151 126 0;
#X obj 475 444 pointer;
#X obj 363 212 pointer;
#X msg 292 361 next;
#X msg 280 155 1;
#X msg 321 155 0;
#X obj 363 320 <;
#X obj 151 207 until;
#X obj 362 34 r start-resynth;
#X obj 262 226 f;
#X obj 262 249 sel 0 1;
#X obj 403 312 r synth-index;
#X obj 363 348 sel 0 1;
#X obj 50 74 r step-resynth;
#X obj 151 153 f;
#X obj 151 177 s synth-index;
#X obj 192 154 + 5;
#X obj 50 107 t b b b;
#X obj 50 191 s osc-tick;
#X msg 363 155 traverse pd-trace-list \, next;
#X obj 362 66 t b b b;
#X msg 408 94 \; pd-trace-list sort;
#X obj 280 193 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 363 264 get trace-template x;
#X obj 363 292 f;
#X obj 386 375 t b b b;
#X obj 327 498 poly 50;
#X obj 327 431 f;
#X obj 368 420 + 1;
#X obj 368 444 mod 1e+06;
#X obj 327 528 pack f f f p;
#X text 245 419 make an ID;
#X text 246 433 for the;
#X text 248 448 track;
#X obj 135 404 r osc-noteoff;
#X text 132 355 voice sends us;
#X text 131 370 a note-off when;
#X text 134 382 done;
#X text 341 557 message is: voice number \, on/off \, track ID \, pointer
;
#X obj 363 238 trigger pointer pointer;
#X obj 327 615 outlet~;
#X obj 135 431 pack f f;
#X obj 327 470 pack f 1;
#X obj 327 584 clone -s 1 50 osc-voice;
#X connect 0 0 14 0;
#X connect 1 0 30 3;
#X connect 2 0 39 0;
#X connect 2 1 5 0;
#X connect 2 1 7 1;
#X connect 3 0 2 0;
#X connect 4 0 22 0;
#X connect 5 0 22 0;
#X connect 6 0 12 0;
#X connect 7 0 9 0;
#X connect 8 0 20 0;
#X connect 9 0 10 0;
#X connect 10 0 7 1;
#X connect 10 1 24 0;
#X connect 11 0 6 1;
#X connect 12 0 7 1;
#X connect 12 1 25 0;
#X connect 13 0 17 0;
#X connect 14 0 15 0;
#X connect 14 0 16 0;
#X connect 16 0 14 1;
#X connect 17 0 18 0;
#X connect 17 1 7 0;
#X connect 17 2 14 0;
#X connect 19 0 2 0;
#X connect 20 0 19 0;
#X connect 20 1 4 0;
#X connect 20 1 0 0;
#X connect 20 2 21 0;
#X connect 22 0 9 1;
#X connect 23 0 24 0;
#X connect 24 0 6 0;
#X connect 25 0 3 0;
#X connect 25 1 27 0;
#X connect 25 2 1 0;
#X connect 26 0 30 0;
#X connect 26 1 30 2;
#X connect 26 2 30 1;
#X connect 27 0 28 0;
#X connect 27 0 42 0;
#X connect 28 0 29 0;
#X connect 29 0 27 1;
#X connect 30 0 43 0;
#X connect 34 0 41 0;
#X connect 39 0 23 0;
#X connect 39 1 1 1;
#X connect 41 0 26 0;
#X connect 42 0 26 0;
#X connect 43 0 40 0;
#X restore 171 477 pd osc-bank;
#X obj 687 112 s grain-amp;
#X text 800 135 resynth;
#X text 673 135 analyzed grains;
#X text 589 135 original;
#N canvas 189 52 524 498 test-signal 0;
#X obj 196 314 tabread4~ sample;
#X obj 196 289 line~;
#X obj 131 196 f;
#X obj 339 76 r insamprate;
#X obj 196 371 *~;
#X obj 232 372 dbtorms;
#X obj 232 349 inlet;
#X obj 196 436 outlet~;
#X obj 217 67 r insamplength;
#X msg 196 263 0 \, \$1 \$2;
#X obj 196 237 pack 0 0;
#X obj 249 200 /;
#X obj 385 140 * 0.001;
#X obj 196 409 hip~ 5;
#X obj 51 35 loadbang;
#X text 323 43 sample playback;
#X msg 51 80 1;
#X obj 51 144 metro 1000;
#X floatatom 51 113 0 0 0 0 - - - 0;
#X obj 339 105 t b b f;
#X obj 217 124 t b f;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 10 0;
#X connect 3 0 19 0;
#X connect 4 0 13 0;
#X connect 5 0 4 1;
#X connect 6 0 5 0;
#X connect 8 0 20 0;
#X connect 9 0 1 0;
#X connect 10 0 9 0;
#X connect 11 0 10 1;
#X connect 11 0 17 1;
#X connect 12 0 11 1;
#X connect 13 0 7 0;
#X connect 14 0 16 0;
#X connect 16 0 18 0;
#X connect 17 0 2 0;
#X connect 18 0 17 0;
#X connect 19 0 16 0;
#X connect 19 1 11 0;
#X connect 19 2 12 0;
#X connect 20 0 16 0;
#X connect 20 1 11 0;
#X connect 20 1 2 1;
#X restore 164 443 pd test-signal;
#X obj 755 557 tabwrite~ sample;
#X text 172 14 SINUSOID TRACKING;
#X obj 429 326 tgl 20 0 empty empty empty 0 -6 0 8 #dfdfdf #000000
#000000 0 1;
#N canvas 307 190 576 435 sigmund 0;
#X obj 206 284 spigot;
#X obj 187 99 f;
#X obj 187 133 pack;
#X obj 235 68 r window-size;
#X obj 343 45 r location;
#X obj 343 84 *;
#X obj 382 73 r sample-rate;
#X obj 382 98 * 0.001;
#X obj 164 36 r snapshot;
#X obj 245 260 tgl 15 0 empty empty empty 0 -6 0 8 #fcfcfc #000000
#000000 0 1;
#X obj 57 276 s done-analysis;
#X obj 303 133 s start-analysis;
#X obj 164 69 t b b b;
#X msg 187 161 list sample \$1 \$2 44100 0;
#X obj 434 284 spigot;
#X obj 473 260 tgl 15 0 empty empty empty 0 -6 0 8 #fcfcfc #000000
#000000 0 1;
#X floatatom 74 80 5 1 50 0 - - - 0;
#X msg 74 103 npeak \$1;
#X obj 74 54 r nvoice;
#X obj 408 386 outlet;
#X obj 187 191 sigmund~ -t -npts 1024 -npeak 50 -maxfreq 8000 peaks
tracks, f 32;
#X obj 187 386 outlet;
#X obj 206 310 print peaks;
#X obj 434 310 print tracks;
#X connect 0 0 22 0;
#X connect 1 0 2 0;
#X connect 2 0 13 0;
#X connect 3 0 1 1;
#X connect 4 0 5 0;
#X connect 5 0 2 1;
#X connect 6 0 7 0;
#X connect 7 0 5 1;
#X connect 8 0 12 0;
#X connect 9 0 0 1;
#X connect 12 0 10 0;
#X connect 12 1 1 0;
#X connect 12 2 11 0;
#X connect 13 0 20 0;
#X connect 14 0 23 0;
#X connect 15 0 14 1;
#X connect 16 0 17 0;
#X connect 17 0 20 0;
#X connect 18 0 16 0;
#X connect 20 0 0 0;
#X connect 20 0 21 0;
#X connect 20 1 14 0;
#X connect 20 1 19 0;
#X restore 318 434 pd sigmund;
#X obj 753 350 moses 1350;
#X msg 25 150 \; pd dsp 1 \; window-size 2048 \; sample-rate 44100
\; incr 10;
#X obj 753 270 metro 50;
#X obj 429 352 metro 10;
#N canvas 465 106 752 531 misc 0;
#X msg 291 270 \; clear-all bang;
#X msg 291 228 \; snapshot bang;
#X obj 87 60 osc~ 110;
#X obj 145 135 line~;
#X obj 87 112 *~;
#X obj 87 150 +~ 0.2;
#X obj 87 178 cos~;
#X obj 289 179 line~;
#X obj 87 211 *~;
#X obj 87 273 tabwrite~ sample;
#X obj 289 31 bng 15 250 50 0 empty empty empty 17 7 0 10 #dfdfdf #000000
#000000;
#X msg 145 105 0 \, 2 500;
#X msg 289 137 0 \, 1 100;
#X obj 363 92 del 500;
#X msg 214 137 0.05 500;
#X msg 363 137 0 2000;
#X obj 543 242 r location;
#X msg 543 267 set \$1;
#X obj 543 292 s location-set;
#X msg 543 352 set \$1;
#X obj 543 327 r osc-speed;
#X obj 543 377 s osc-speed-set;
#X msg 543 437 set \$1;
#X obj 543 412 r nvoice;
#X obj 543 466 s nvoice-set;
#X obj 542 132 loadbang;
#X msg 542 157 \; osc-speed 10 \; nvoice 25 \; pd-trace-list clear
;
#N canvas 208 32 1115 470 make-trace 0;
#X obj 731 286 setsize trace-template bazoo;
#X obj 731 161 random 200;
#X obj 731 187 + 100;
#X obj 889 184 pointer;
#X obj 189 185 pointer;
#X floatatom 229 309 0 0 0 0 - - - 0;
#X floatatom 124 245 0 0 0 0 - - - 0;
#X msg 189 151 bang;
#X floatatom 166 97 0 0 0 0 - - - 0;
#X floatatom 29 149 0 0 0 0 - - - 0;
#X floatatom 189 241 0 0 0 0 - - - 0;
#X floatatom 476 305 0 0 0 0 - - - 0;
#X floatatom 296 372 0 0 0 0 - - - 0;
#X floatatom 628 210 0 0 0 0 - - - 0;
#X obj 419 122 pointer;
#X msg 438 95 next;
#X floatatom 477 209 0 0 0 0 - - - 0;
#X obj 476 271 getsize trace-template bazoo;
#X obj 189 214 get point-template y;
#X obj 29 173 set point-template y;
#X obj 166 123 element trace-template bazoo;
#X obj 124 275 setsize trace-template bazoo;
#X obj 296 397 set trace-template x;
#X obj 229 335 set trace-template y;
#X msg 731 136 bang;
#X obj 731 211 append trace-template x;
#X obj 477 185 get trace-template x y;
#X obj 731 238 t b p;
#X msg 731 263 5;
#X msg 419 69 traverse pd-trace-list \, next;
#X msg 889 159 traverse pd-trace-list \, bang;
#X connect 1 0 2 0;
#X connect 2 0 25 0;
#X connect 3 0 25 1;
#X connect 4 0 18 0;
#X connect 5 0 23 0;
#X connect 6 0 21 0;
#X connect 7 0 4 0;
#X connect 8 0 20 0;
#X connect 9 0 19 0;
#X connect 12 0 22 0;
#X connect 14 0 21 1;
#X connect 14 0 22 1;
#X connect 14 0 23 1;
#X connect 14 0 20 1;
#X connect 14 0 26 0;
#X connect 14 0 17 0;
#X connect 15 0 14 0;
#X connect 17 0 11 0;
#X connect 18 0 10 0;
#X connect 20 0 4 0;
#X connect 20 0 19 1;
#X connect 24 0 1 0;
#X connect 25 0 27 0;
#X connect 26 0 16 0;
#X connect 26 1 13 0;
#X connect 27 0 28 0;
#X connect 27 1 0 1;
#X connect 28 0 0 0;
#X connect 29 0 14 0;
#X connect 30 0 3 0;
#X restore 550 76 pd make-trace;
#X obj 111 452 pointer;
#X obj 111 479 s last-in-list;
#X msg 111 354 bang;
#X obj 111 377 t b b;
#X obj 41 453 f 0;
#X obj 41 480 s nframe;
#X obj 397 399 r nframe;
#X obj 380 422 f;
#X obj 380 446 + 1;
#X obj 380 468 s nframe;
#X obj 111 330 r clear-all;
#X msg 111 428 traverse pd-trace-list \, bang;
#X obj 380 366 r done-analysis;
#X msg 172 364 \; pd-trace-list clear \; add-trace-clear bang;
#N canvas 519 315 793 337 insample 0;
#N canvas 0 50 450 300 (subpatch) 0;
#X array sample 62079 float 0;
#X coords 0 1 62078 -1 400 150 1;
#X restore 357 37 graph;
#X obj 13 10 r read-sample;
#X obj 13 36 unpack s f;
#X obj 80 61 s insamprate;
#X obj 13 111 soundfiler;
#X msg 13 87 read -resize \$1 sample;
#X obj 13 137 s insamplength;
#X obj 13 198 t f b;
#X obj 61 201 samplerate~;
#X obj 13 224 /;
#X obj 63 233 r incr;
#X obj 13 249 *;
#X obj 63 258 expr 10000/$f1;
#X obj 180 123 r resize-sample;
#X obj 180 148 t f b;
#X obj 228 149 samplerate~;
#X obj 228 174 / 1000;
#X obj 180 173 *;
#X obj 13 172 r insamplength;
#X msg 180 209 \; sample resize \$1 \; insamplength \$1;
#X obj 13 274 + 60;
#X obj 13 299 s sample-msec;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 2 1 3 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 7 0 9 0;
#X connect 7 1 8 0;
#X connect 8 0 9 1;
#X connect 9 0 11 0;
#X connect 10 0 12 0;
#X connect 11 0 20 0;
#X connect 12 0 11 1;
#X connect 13 0 14 0;
#X connect 14 0 17 0;
#X connect 14 1 15 0;
#X connect 15 0 16 0;
#X connect 16 0 17 1;
#X connect 17 0 19 0;
#X connect 18 0 7 0;
#X connect 20 0 21 0;
#X restore 551 43 pd insample;
#X connect 2 0 4 0;
#X connect 3 0 4 1;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 10 0 9 0;
#X connect 10 0 12 0;
#X connect 10 0 13 0;
#X connect 11 0 3 0;
#X connect 12 0 7 0;
#X connect 13 0 15 0;
#X connect 13 0 14 0;
#X connect 14 0 3 0;
#X connect 15 0 7 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 19 0 21 0;
#X connect 20 0 19 0;
#X connect 22 0 24 0;
#X connect 23 0 22 0;
#X connect 25 0 26 0;
#X connect 28 0 29 0;
#X connect 30 0 31 0;
#X connect 31 0 39 0;
#X connect 31 0 32 0;
#X connect 31 1 41 0;
#X connect 32 0 33 0;
#X connect 34 0 35 1;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 38 0 30 0;
#X connect 39 0 28 0;
#X connect 40 0 35 0;
#X restore 557 579 pd misc;
#X floatatom 502 316 4 0 0 1 osc-speed osc-speed-set osc-speed 16;
#X floatatom 109 287 4 1 50 0 nvoice nvoice-set nvoice 16;
#X obj 503 348 r osc-speed;
#X text 35 324 analysis;
#X text 37 339 parameters;
#X obj 683 186 bng 20 250 50 0 empty empty empty 17 7 0 10 #dfdfdf
#000000 #000000;
#X msg 635 380 \; location 0 \; clear-all bang;
#N canvas 204 89 564 423 grain 0;
#X floatatom 192 224 6 0 0 0 - - - 0;
#X obj 357 141 r sample-rate;
#X obj 357 171 t b f;
#X obj 192 199 r window-size;
#X obj 213 44 r sample-rate;
#X obj 187 16 r window-size;
#X obj 213 74 t b f;
#X obj 187 99 /;
#X obj 118 107 bang~;
#X obj 118 205 line~;
#X obj 187 130 * 1000;
#X text 247 119 window size (msec), f 6;
#X obj 332 111 r location;
#X obj 332 196 *;
#X obj 332 219 * 0.001;
#X text 401 219 location (samples);
#X obj 118 153 f;
#X msg 118 180 0 \, 1 \$1;
#X obj 62 251 *~;
#X obj 62 284 -~;
#X obj 62 343 *~;
#X obj 62 370 outlet~;
#X floatatom 332 243 5 0 0 0 - - - 0;
#X obj 361 44 block~ 2048 1;
#X obj 118 300 tabread4~ sample;
#X obj 118 241 *~ 0;
#X obj 118 272 +~ 0;
#X connect 1 0 2 0;
#X connect 2 0 13 0;
#X connect 2 1 13 1;
#X connect 3 0 0 0;
#X connect 3 0 25 1;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 10 0;
#X connect 8 0 16 0;
#X connect 9 0 18 0;
#X connect 9 0 18 1;
#X connect 9 0 19 1;
#X connect 9 0 25 0;
#X connect 10 0 16 1;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 22 0;
#X connect 14 0 26 1;
#X connect 16 0 17 0;
#X connect 17 0 9 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 24 0 20 1;
#X connect 25 0 26 0;
#X connect 26 0 24 0;
#X restore 43 369 pd grain;
#X floatatom 840 323 10 0 0 0 - - - 0;
#X obj 755 468 bng 20 250 50 0 empty empty empty 17 7 0 10 #dfdfdf
#000000 #000000;
#X msg 770 505 \; resize-sample 3000;
#X obj 485 198 openpanel;
#X obj 485 222 s read-sample;
#X text 484 137 browse for soundfile, f 10;
#X text 186 111 Then read a sample (or record below right);
#X msg 189 136 \; read-sample ../sound/voice.wav 44100;
#X msg 189 172 \; read-sample ../sound/voice2.wav 44100;
#X msg 189 208 \; read-sample ../sound/bell.aiff 44100;
#X obj 840 298 r sample-msec;
#N canvas 516 98 256 189 set 0;
#X obj 99 119 outlet;
#X msg 99 88 set \$1;
#X obj 99 55 r loop-amp;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X restore 585 51 pd set;
#N canvas 516 98 254 149 set 0;
#X obj 87 92 outlet;
#X msg 87 65 set \$1;
#X obj 87 38 r grain-amp;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X restore 687 52 pd set;
#N canvas 516 98 253 173 set 0;
#X obj 101 107 outlet;
#X msg 101 76 set \$1;
#X obj 101 42 r osc-amp;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X restore 797 53 pd set;
#X obj 219 556 pack f 100;
#X obj 485 173 bng 20 250 50 0 empty empty empty 17 7 0 10 #dfdfdf
#000000 #000000;
#X text 722 611 updated for Pd version 0.52;
#X obj 385 461 clone add-trace 50;
#X text 30 125 First click here:;
#X text 645 18 SET AMPLITUDES \, dB \, 100-based;
#X text 338 539 templates:;
#X obj 194 359 s start-resynth;
#X obj 318 359 s osc-stop;
#X text 715 186 ... and finally here to analyze;
#X text 219 331 start;
#X text 449 325 step;
#X text 188 261 To resynthesize \, "start" once and set speed and turn
on "step". To stop \, stop stepping and hit osc-stop. Note resynth
amplitude control above., f 63;
#X text 342 331 stop;
#X text 778 464 record a 3 seconds live sample, f 19;
#X floatatom 797 79 5 0 110 0 - - - 16;
#X floatatom 687 79 5 0 110 0 - - - 16;
#X text 21 38 This patch derives sinusoidal "tracks" from a sampled
sound by using [sigmund~] and the data structure facilities. The number
of tracks may range from 1 to 50 with the 'nvoice' number box (but
note that the resynthesizer is limited to 50-voice polyphony.), f
70;
#X text 554 452 display:;
#X text 322 410 analysis:;
#X obj 429 383 s step-resynth;
#X obj 318 331 bng 20 250 50 0 empty empty empty 17 7 0 10 #dfdfdf
#000000 #000000;
#X obj 194 331 bng 20 250 50 0 empty empty empty 17 7 0 10 #dfdfdf
#000000 #000000;
#X obj 697 502 adc~ 1;
#N canvas 365 100 476 355 add-peaks 0;
#X obj 249 226 pointer;
#X obj 184 238 rmstodb;
#X obj 56 256 * 0.1;
#X obj 249 101 r start-analysis;
#X obj 249 136 t b b;
#X msg 301 141 \; pd-peak-list clear;
#X msg 249 185 traverse pd-peak-list \, bang;
#X obj 184 271 * 3;
#X msg 120 257 20;
#X obj 67 22 inlet;
#X obj 56 296 append peak-template x y amp;
#X obj 67 196 unpack f f f;
#X connect 0 0 10 3;
#X connect 1 0 7 0;
#X connect 2 0 10 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 1 5 0;
#X connect 6 0 0 0;
#X connect 7 0 10 2;
#X connect 8 0 10 1;
#X connect 9 0 11 0;
#X connect 11 1 2 0;
#X connect 11 2 8 0;
#X connect 11 2 1 0;
#X restore 318 492 pd add-peaks;
#X connect 1 0 3 1;
#X connect 2 0 71 0;
#X connect 3 0 18 0;
#X connect 4 0 46 1;
#X connect 5 0 24 1;
#X connect 6 0 25 1;
#X connect 12 0 13 0;
#X connect 13 0 17 1;
#X connect 14 0 12 0;
#X connect 15 0 20 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 18 0 19 1;
#X connect 21 0 16 0;
#X connect 23 0 39 0;
#X connect 24 0 25 0;
#X connect 24 0 29 0;
#X connect 25 0 24 1;
#X connect 26 0 46 0;
#X connect 27 0 46 0;
#X connect 29 0 44 0;
#X connect 30 0 27 0;
#X connect 30 1 5 0;
#X connect 30 1 55 0;
#X connect 31 0 6 0;
#X connect 32 0 14 0;
#X connect 33 0 2 0;
#X connect 34 0 3 0;
#X connect 39 0 18 0;
#X connect 42 0 47 0;
#X connect 43 0 95 0;
#X connect 43 1 74 0;
#X connect 44 0 28 0;
#X connect 44 1 26 0;
#X connect 46 0 24 0;
#X connect 47 0 91 0;
#X connect 51 0 47 1;
#X connect 54 0 30 0;
#X connect 56 0 17 0;
#X connect 57 0 44 1;
#X connect 58 0 40 0;
#X connect 58 0 59 0;
#X connect 60 0 61 0;
#X connect 67 0 57 0;
#X connect 68 0 15 0;
#X connect 69 0 87 0;
#X connect 70 0 86 0;
#X connect 71 0 1 0;
#X connect 72 0 60 0;
#X connect 86 0 0 0;
#X connect 87 0 35 0;
#X connect 92 0 79 0;
#X connect 93 0 78 0;
#X connect 94 0 40 0;
