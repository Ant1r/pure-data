#N canvas 604 26 740 703 12;
#X declare -stdpath ./;
#N canvas 129 23 851 337 peaks-list 1;
#X coords 0 337 0.5 336 0 0 0;
#X restore 600 513 pd peaks-list;
#N canvas 124 229 1215 504 trace-list 1;
#X coords 0 126 1 125.75 0 0 0;
#X restore 600 492 pd trace-list;
#N canvas 375 90 540 227 trace-template 0;
#X text 68 127 This template describes a pitch/amplitude trace. The array "partial" holds the actual points. In this template \, y is always 0 and x is the starting location in pixels. There are 5 pixels per point.;
#X obj 72 32 struct trace-template float x float y float voiceno array partial point-template;
#X obj 72 84 plot partial 0 1 0 0 5;
#X restore 582 403 pd trace-template;
#N canvas 311 238 528 190 point-template 0;
#X text 64 65 This template describes a single point on a pitch trace (cf. trace-template w describes the trace itself.);
#X text 64 98 "y" is the field that is shown on the graph \; it's - 4 * pitch. You also get an "amp" field in dB \, which you can't see as a plot (yet).;
#X obj 113 29 struct point-template float y float amp;
#X restore 582 424 pd point-template;
#X text 90 20 SINUSOID TRACKING;
#X obj 112 381 tgl 22 0 empty empty empty -44 12 0 16 #dfdfdf #000000 #000000 0 1;
#X floatatom 593 210 4 1 50 1 nvoice nvoice-set - 16;
#X obj 593 284 clone add-trace 50;
#X text 609 359 templates:;
#X text 609 466 display:;
#N canvas 365 100 517 378 add-peaks 0;
#X obj 283 217 pointer;
#X obj 218 197 rmstodb;
#X obj 90 215 * 0.1;
#X obj 283 89 r start-analysis;
#X obj 283 136 t b b;
#X msg 335 129 \; pd-peaks-list clear;
#X msg 283 181 traverse pd-peaks-list \, bang;
#X obj 218 223 * 3;
#X msg 154 216 20;
#X obj 73 28 inlet;
#X obj 90 252 append peaks-template x y amp;
#X obj 73 155 unpack f f f;
#X text 99 63 This suboatch uses peak information from [sigmund~] to draw peaks with data structures., f 20;
#X text 89 303 This is just for visualization \, not resynthesis;
#X text 107 331 see result in the 'peaks-list' subwindow;
#X connect 0 0 10 3;
#X connect 1 0 7 0;
#X connect 2 0 10 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 1 5 0;
#X connect 6 0 0 0;
#X connect 7 0 10 2;
#X connect 8 0 10 1;
#X connect 9 0 11 0;
#X connect 11 1 2 0;
#X connect 11 2 8 0;
#X connect 11 2 1 0;
#X restore 519 317 pd add-peaks;
#X obj 316 72 bng 22 250 50 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000;
#X obj 519 68 bng 22 250 50 0 empty empty 2nd 31 11 0 20 #dfdfdf #000000 #000000;
#X text 505 669 updated for Pd version 0.53-1;
#X obj 112 417 metro;
#X obj 160 456 bng 22 250 50 0 empty empty empty -4 -12 0 16 #dfdfdf #000000 #000000;
#X obj 85 416 bng 22 250 50 0 empty empty empty 30 12 0 16 #dfdfdf #000000 #000000;
#X text 256 374 The resynthesizer is limited to 50-voice polyphony (the 'nvoice' number box sets the number of voices/tracks from 1 to 50)., f 42;
#N canvas 271 82 592 435 location 0;
#X obj 84 22 inlet;
#X floatatom 208 131 4 0 0 0 - - - 0;
#X msg 116 148 0;
#X floatatom 248 152 4 0 0 0 - - - 0;
#X obj 155 186 f;
#X obj 195 185 +;
#X msg 119 219 0;
#X msg 155 131 1;
#X floatatom 155 210 6 0 0 0 - - - 0;
#X obj 84 58 t b b;
#X obj 248 128 r incr;
#X floatatom 237 221 10 0 0 0 - - - 12;
#X obj 237 196 r sample-msec;
#X obj 170 331 t b f;
#X obj 202 360 s location;
#X floatatom 358 110 6 0 0 3 location location-set location 16;
#X obj 170 398 outlet;
#X obj 328 223 r location;
#X msg 328 248 set \$1;
#X obj 328 273 s location-set;
#X obj 155 157 metro 50;
#N canvas 265 258 450 300 clear 0;
#X obj 108 184 pointer;
#X obj 108 211 s last-in-list;
#X obj 108 99 t b b;
#X obj 57 244 s nframe;
#X msg 108 160 traverse pd-trace-list \, bang;
#X msg 57 214 0;
#X obj 108 52 inlet;
#X msg 169 92 \; pd-peaks-list clear \; pd-trace-list clear \; \; add-trace-clear bang;
#X connect 0 0 1 0;
#X connect 2 0 4 0;
#X connect 2 0 5 0;
#X connect 2 1 7 0;
#X connect 4 0 0 0;
#X connect 5 0 3 0;
#X connect 6 0 2 0;
#X restore 155 97 pd clear;
#X obj 155 22 inlet;
#X obj 170 257 moses, f 10;
#X msg 237 308 \; pd-peaks-list clear;
#X text 237 19 this subpatch is a counter for the sample location in msec used for analysis. This value is the start of the analysis window (whose size is 2048 points by default), f 41;
#X obj 77 270 s \$0-line;
#X msg 77 218 1;
#X connect 0 0 9 0;
#X connect 1 0 20 1;
#X connect 2 0 4 1;
#X connect 3 0 5 1;
#X connect 4 0 5 0;
#X connect 4 0 8 0;
#X connect 5 0 4 1;
#X connect 6 0 20 0;
#X connect 6 0 26 0;
#X connect 7 0 20 0;
#X connect 8 0 23 0;
#X connect 9 0 7 0;
#X connect 9 1 2 0;
#X connect 9 1 21 0;
#X connect 9 1 27 0;
#X connect 10 0 3 0;
#X connect 11 0 23 1;
#X connect 12 0 11 0;
#X connect 13 0 16 0;
#X connect 13 1 14 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 20 0 4 0;
#X connect 22 0 21 0;
#X connect 23 0 13 0;
#X connect 23 1 6 0;
#X connect 23 1 18 0;
#X connect 23 1 24 0;
#X connect 27 0 26 0;
#X coords 0 -1 1 1 92 61 2 350 100;
#X restore 519 131 pd location;
#X text 16 303 To resynthesize \, click 'start' and then 'step' over and over to move to the next resynthesis frame (to stop listening \, just hit "stop"). Alternatively \, you can step with [metro] at the given rate in msec., f 68;
#X obj 144 381 nbx 4 22 -1e+37 1e+37 0 0 osc-speed osc-speed-set empty 22 35 0 14 #dfdfdf #000000 #000000 0 256;
#X obj 65 529 output~;
#X obj 283 529 output~;
#X obj 406 529 output~;
#N canvas 340 23 663 702 resynthesis 0;
#X msg 127 165 0;
#X obj 396 476 pointer;
#X obj 284 209 pointer;
#X msg 230 413 next;
#X msg 215 213 1;
#X msg 227 257 0;
#X obj 284 372 <;
#X obj 86 259 until;
#X obj 197 288 f;
#X obj 197 311 sel 0 1;
#X obj 320 344 r synth-index;
#X obj 284 407 sel 0 1;
#X obj 109 196 f;
#X obj 109 222 s synth-index;
#X obj 146 197 + 5;
#X obj 63 165 t b b b;
#X obj 63 303 s osc-tick;
#X msg 284 177 traverse pd-trace-list \, next;
#X obj 283 118 t b b b;
#X msg 352 118 \; pd-trace-list sort;
#X obj 284 316 get trace-template x;
#X obj 284 344 f;
#X obj 307 433 t b b b;
#X obj 255 550 poly 50;
#X obj 255 483 f;
#X obj 296 472 + 1;
#X obj 296 496 mod 1e+06;
#X obj 255 580 pack f f f p;
#X text 196 459 make an ID;
#X text 196 476 for the, f 10;
#X text 196 492 track, f 10;
#X obj 78 455 r osc-noteoff;
#X text 39 419 voice sends us, f 15;
#X text 39 434 a note-off when;
#X text 39 451 done;
#X text 63 574 message is: voice number \, on/off \, track ID \, pointer, f 26;
#X obj 284 290 trigger pointer pointer;
#X obj 254 651 outlet~;
#X obj 78 482 pack f f;
#X obj 255 522 pack f 1;
#X obj 254 613 clone -s 1 50 osc-voice;
#X obj 223 86 inlet;
#X obj 283 86 inlet;
#X obj 532 86 inlet;
#X obj 532 127 s osc-stop;
#X text 114 21 This subpatch gets 'tracks' information recorded from [sigmund~] into data structures and we use it to feed an oscillator bank in a [clone] object., f 65;
#X connect 0 0 12 0;
#X connect 1 0 27 3;
#X connect 2 0 36 0;
#X connect 2 1 5 0;
#X connect 2 1 7 1;
#X connect 3 0 2 0;
#X connect 4 0 8 1;
#X connect 5 0 8 1;
#X connect 6 0 11 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 7 1;
#X connect 9 1 21 0;
#X connect 10 0 6 1;
#X connect 11 0 7 1;
#X connect 11 1 22 0;
#X connect 12 0 13 0;
#X connect 12 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 16 0;
#X connect 15 1 7 0;
#X connect 15 2 12 0;
#X connect 17 0 2 0;
#X connect 18 0 17 0;
#X connect 18 1 4 0;
#X connect 18 1 0 0;
#X connect 18 2 19 0;
#X connect 20 0 21 0;
#X connect 21 0 6 0;
#X connect 22 0 3 0;
#X connect 22 1 24 0;
#X connect 22 2 1 0;
#X connect 23 0 27 0;
#X connect 23 1 27 2;
#X connect 23 2 27 1;
#X connect 24 0 25 0;
#X connect 24 0 39 0;
#X connect 25 0 26 0;
#X connect 26 0 24 1;
#X connect 27 0 40 0;
#X connect 31 0 38 0;
#X connect 36 0 20 0;
#X connect 36 1 1 1;
#X connect 38 0 23 0;
#X connect 39 0 23 0;
#X connect 40 0 37 0;
#X connect 41 0 18 0;
#X connect 42 0 15 0;
#X connect 43 0 44 0;
#X coords 0 702 1 701 90 50 0;
#X restore 65 492 pd resynthesis;
#X text 258 426 You can also listen to the analysis when analyzing or the original sample in a loop., f 37;
#X text 185 459 Stop;
#X text 47 418 Step;
#X text 21 458 Start;
#X text 75 383 Auto;
#X text 151 359 Rate;
#X text 344 74 record live input;
#X obj 465 134 bng 22 250 50 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000;
#X text 356 115 or even...;
#N canvas 105 23 1209 549 make-trace 0;
#X obj 859 358 setsize trace-template partial, f 14;
#X obj 227 252 pointer;
#X floatatom 162 312 6 0 0 0 - - - 0;
#X floatatom 227 308 6 0 0 0 - - - 0;
#X obj 457 189 pointer;
#X msg 475 158 next;
#X obj 490 328 getsize trace-template partial;
#X obj 227 281 get point-template y;
#X obj 67 252 set point-template y;
#X obj 227 190 element trace-template partial;
#X obj 162 342 setsize trace-template partial;
#X obj 320 474 set trace-template x;
#X obj 267 402 set trace-template y;
#X obj 509 253 get trace-template x y;
#X msg 457 127 traverse pd-trace-list \, next;
#X text 301 41 This subpatch cretaes tracks manually or randomly;
#X obj 243 221 bng 19 250 50 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000;
#X floatatom 67 228 6 0 0 0 - - - 0;
#X floatatom 227 161 6 0 0 0 - - - 0;
#X floatatom 660 283 6 0 0 0 - - - 0;
#X floatatom 509 283 6 0 0 0 - - - 0;
#X floatatom 490 362 6 0 0 0 - - - 0;
#X floatatom 320 449 6 0 0 0 - - - 0;
#X floatatom 267 376 6 0 0 0 - - - 0;
#X obj 945 219 pointer;
#X msg 945 194 traverse pd-trace-list \, bang;
#X obj 743 97 bng 19 250 50 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000;
#X obj 743 125 trigger bang bang;
#X obj 859 158 random 100;
#X obj 859 184 + 15;
#X floatatom 859 211 5 0 0 0 - - - 0;
#X floatatom 743 213 5 0 0 0 - - - 0;
#X msg 859 330 15;
#X obj 945 49 bng 19 250 50 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000;
#X text 968 46 <-- click here first;
#X obj 743 153 random 300;
#X obj 743 179 + 50;
#X obj 935 444 element trace-template partial;
#X obj 773 348 until;
#X msg 821 348 0;
#X obj 784 382 f;
#X obj 818 388 + 1;
#X obj 773 320 f 15;
#X obj 784 412 t b f;
#X obj 784 501 set point-template amp;
#X obj 773 261 append trace-template x y;
#X floatatom 52 166 6 0 0 0 - - - 0;
#X obj 52 190 set point-template amp;
#X text 770 95 <- random x/y values;
#X obj 773 291 trigger bang bang pointer;
#X obj 784 444 random 50;
#X obj 784 470 + 50;
#X connect 1 0 7 0;
#X connect 2 0 10 0;
#X connect 4 0 10 1;
#X connect 4 0 11 1;
#X connect 4 0 12 1;
#X connect 4 0 9 1;
#X connect 4 0 13 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 6 0 21 0;
#X connect 7 0 3 0;
#X connect 9 0 1 0;
#X connect 9 0 8 1;
#X connect 9 0 47 1;
#X connect 13 0 20 0;
#X connect 13 1 19 0;
#X connect 14 0 4 0;
#X connect 16 0 1 0;
#X connect 17 0 8 0;
#X connect 18 0 9 0;
#X connect 22 0 11 0;
#X connect 23 0 12 0;
#X connect 24 0 45 2;
#X connect 25 0 24 0;
#X connect 26 0 27 0;
#X connect 27 0 35 0;
#X connect 27 1 28 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 30 0 45 1;
#X connect 31 0 45 0;
#X connect 32 0 0 0;
#X connect 33 0 25 0;
#X connect 35 0 36 0;
#X connect 36 0 31 0;
#X connect 37 0 44 1;
#X connect 38 0 40 0;
#X connect 39 0 40 1;
#X connect 40 0 41 0;
#X connect 40 0 43 0;
#X connect 41 0 40 1;
#X connect 42 0 38 0;
#X connect 43 0 50 0;
#X connect 43 1 37 0;
#X connect 45 0 49 0;
#X connect 46 0 47 0;
#X connect 49 0 42 0;
#X connect 49 1 32 0;
#X connect 49 1 39 0;
#X connect 49 2 0 1;
#X connect 49 2 37 1;
#X connect 50 0 51 0;
#X connect 51 0 44 0;
#X restore 176 661 pd make-trace;
#N canvas 1084 205 259 246 init 0;
#X obj 38 31 loadbang;
#X msg 38 66 \; osc-speed-set 10 \; nvoice-set 25 \; pd-trace-list clear \; window-size 2048 \; sample-rate 44100 \; incr 10;
#X obj 47 191 declare -stdpath ./;
#X text 103 31 initialization;
#X connect 0 0 1 0;
#X restore 623 554 pd init;
#X text 381 150 sample;
#X text 53 602 You can check the trace-list subwindow and graphically edit the spectral analysis by clicking and dragging in the arrays or duplicating \, deleting and changing their position \, then listen to the result. You can also create partial traces manually or randomly with this subpatch:, f 89;
#X obj 604 100 bng 22 250 50 0 empty empty empty 17 7 0 10 #dfdfdf #000000 #000000;
#X text 628 102 <-- clear;
#X obj 65 456 bng 22 250 50 0 empty empty empty -38 -42 0 20 #dfdfdf #000000 #000000;
#X obj 19 124 openpanel;
#X obj 19 71 bng 22 250 50 0 empty empty 1st 31 11 0 20 #dfdfdf #000000 #000000;
#N canvas 181 175 830 334 sample 0;
#N canvas 0 50 450 300 (subpatch) 0;
#X array sample 155944 float 2;
#X coords 0 1 155944 -1 453 90 1 0 0;
#X restore 350 68 graph;
#X obj 23 171 t f b;
#X obj 55 195 samplerate~;
#X obj 23 224 /;
#X obj 73 233 r incr;
#X obj 23 249 *;
#X obj 73 258 expr 10000/$f1;
#X obj 195 114 r resize-sample;
#X obj 195 159 t f b;
#X obj 227 190 samplerate~;
#X obj 227 215 / 1000;
#X obj 195 204 *;
#X obj 23 115 r insamplength;
#X msg 195 241 \; sample resize \$1 \; insamplength \$1;
#X obj 23 299 s sample-msec;
#X obj 26 17 inlet;
#X msg 249 146 \; pd dsp 1;
#X obj 65 145 r window-size;
#X obj 23 143 -;
#N canvas 441 320 449 241 record 0;
#X obj 37 37 inlet;
#X obj 37 182 tabwrite~ sample;
#X obj 53 145 adc~ 1;
#X text 191 91 (set array size to 3 seconds);
#X msg 52 77 \; resize-sample 3000 \; pd dsp 1;
#X connect 0 0 4 0;
#X connect 0 0 1 0;
#X connect 2 0 1 0;
#X restore 122 66 pd record;
#X obj 72 17 inlet;
#X obj 122 16 inlet;
#X obj 216 17 inlet;
#N canvas 178 120 284 293 load 0;
#X obj 55 34 inlet;
#X obj 165 252 s insamprate;
#X obj 55 226 soundfiler;
#X msg 55 195 read -resize \$1 sample;
#X obj 55 252 s insamplength;
#X msg 165 226 \$1;
#X msg 109 144 \; pd dsp 1;
#X obj 109 34 inlet;
#X msg 109 99 symbol ../sound/\$1;
#X obj 109 69 symbol;
#X connect 0 0 3 0;
#X connect 0 0 6 0;
#X connect 2 0 4 0;
#X connect 2 1 5 0;
#X connect 3 0 2 0;
#X connect 5 0 1 0;
#X connect 7 0 9 0;
#X connect 8 0 3 0;
#X connect 8 0 6 0;
#X connect 9 0 8 0;
#X restore 26 66 pd load;
#N canvas 362 36 579 430 synthesis 0;
#X obj 68 113 osc~ 110;
#X obj 68 165 *~;
#X obj 68 209 +~ 0.2;
#X obj 68 241 cos~;
#X obj 68 284 *~;
#X obj 199 365 tabwrite~ sample;
#X obj 199 31 inlet;
#X obj 134 188 vline~;
#X obj 308 188 vline~;
#X text 251 277 This creates a waveshaping synthesis sample., f 26;
#X msg 317 86 \; resize-sample 2500 \; pd dsp 1 \, fast-forward 2500;
#X msg 134 148 0 \, 2 500 \, 0.05 1500 500;
#X msg 308 148 0 \, 1 100 \, 0 2250 250;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 6 0 11 0;
#X connect 6 0 5 0;
#X connect 6 0 12 0;
#X connect 6 0 10 0;
#X connect 7 0 1 1;
#X connect 8 0 4 1;
#X connect 11 0 7 0;
#X connect 12 0 8 0;
#X restore 216 66 pd synthesis;
#X connect 1 0 3 0;
#X connect 1 1 2 0;
#X connect 2 0 3 1;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 5 0 14 0;
#X connect 6 0 5 1;
#X connect 7 0 8 0;
#X connect 8 0 11 0;
#X connect 8 1 9 0;
#X connect 8 1 16 0;
#X connect 9 0 10 0;
#X connect 10 0 11 1;
#X connect 11 0 13 0;
#X connect 12 0 18 0;
#X connect 15 0 23 0;
#X connect 17 0 18 1;
#X connect 18 0 1 0;
#X connect 20 0 23 1;
#X connect 21 0 19 0;
#X connect 22 0 24 0;
#X coords 0 -1 1 1 453 108 2 350 50;
#X restore 19 174 pd sample;
#N canvas 395 221 458 221 peaks-template 0;
#X obj 59 81 filledpolygon 3 3 3 0 0 0 amp 0 0;
#X obj 58 41 struct peaks-template float x float y float amp;
#X text 55 131 This is a template for ploting FFT amplitude peaks \, where a polygon is drawn for all peaks., f 46;
#X restore 582 382 pd peaks-template;
#X text 356 134 synthesize -->;
#X msg 183 149 voice2.wav;
#X msg 176 126 voice.wav;
#X msg 167 103 bell.aiff;
#X text 357 91 (3 seconds);
#X text 109 124 choose:;
#X text 242 13 This patch derives sinusoidal "tracks" from a sampled sound via [sigmund~] and data structure then resynthesizes it.;
#X text 633 117 analysis;
#X text 646 133 data;
#X text 9 48 browse:;
#X text 88 73 - browse/choose soundfile or ->;
#X text 587 70 - analyze;
#N canvas 568 88 553 512 sigmund~ 0;
#X obj 149 387 spigot;
#X obj 98 195 f;
#X obj 98 229 pack;
#X obj 146 164 r window-size;
#X obj 254 141 r location;
#X obj 254 180 *;
#X obj 293 169 r sample-rate;
#X obj 293 194 * 0.001;
#X obj 188 356 tgl 19 0 empty empty empty 0 -6 0 8 #dfdfdf #000000 #000000 0 1;
#X obj 214 229 s start-analysis;
#X obj 40 137 t b b b;
#X msg 98 257 list sample \$1 \$2 44100 0;
#X obj 377 387 spigot;
#X obj 416 358 tgl 19 0 empty empty empty 0 -6 0 8 #dfdfdf #000000 #000000 0 1;
#X floatatom 130 70 5 1 50 0 - - - 0;
#X msg 130 110 npeak \$1;
#X obj 351 459 outlet;
#X obj 130 294 sigmund~ -t -npts 1024 -npeak 50 -maxfreq 8000 peaks tracks, f 32;
#X obj 130 459 outlet;
#X obj 149 413 print peaks;
#X obj 377 413 print tracks;
#X text 210 355 print peaks;
#X text 441 356 print tracks;
#X obj 130 27 inlet;
#X obj 40 27 inlet;
#X obj 58 316 r nframe;
#X obj 40 345 f;
#X obj 40 369 + 1;
#X obj 40 401 s nframe;
#X text 232 58 This subatch analysizes the sample with [sigmund~] and outputs 'peaks' and 'tracks' information., f 35;
#X connect 0 0 19 0;
#X connect 1 0 2 0;
#X connect 2 0 11 0;
#X connect 3 0 1 1;
#X connect 4 0 5 0;
#X connect 5 0 2 1;
#X connect 6 0 7 0;
#X connect 7 0 5 1;
#X connect 8 0 0 1;
#X connect 10 0 26 0;
#X connect 10 1 1 0;
#X connect 10 2 9 0;
#X connect 11 0 17 0;
#X connect 12 0 20 0;
#X connect 13 0 12 1;
#X connect 14 0 15 0;
#X connect 15 0 17 0;
#X connect 17 0 0 0;
#X connect 17 0 18 0;
#X connect 17 1 12 0;
#X connect 17 1 16 0;
#X connect 23 0 14 0;
#X connect 24 0 10 0;
#X connect 25 0 26 1;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X restore 519 249 pd sigmund~;
#N canvas 501 61 458 539 analysis 0;
#X floatatom 145 283 6 0 0 0 - - - 0;
#X obj 280 200 r sample-rate;
#X obj 280 230 t b f;
#X obj 145 258 r window-size;
#X obj 148 60 r sample-rate;
#X obj 138 32 r window-size;
#X obj 148 90 t b f;
#X obj 138 115 /;
#X obj 82 154 bang~;
#X obj 82 272 line~;
#X obj 138 146 * 1000;
#X text 139 199 window size (msec), f 11;
#X obj 266 172 r location;
#X obj 266 258 *;
#X text 259 319 location (samples);
#X obj 82 214 f;
#X msg 82 241 0 \, 1 \$1;
#X obj 46 323 *~;
#X obj 64 356 -~;
#X obj 84 406 *~;
#X obj 84 486 outlet~;
#X floatatom 266 295 11 0 0 0 - - - 0;
#X obj 102 372 tabread4~ sample;
#X obj 102 313 *~ 0;
#X obj 102 344 +~ 0;
#X obj 312 258 * 0.001;
#X floatatom 138 177 8 0 0 0 - - - 0;
#X text 249 97 This subpatch plays the analysis so you can listen to it., f 20;
#X obj 84 446 *~;
#X obj 134 450 line~;
#X obj 134 401 r \$0-line;
#X msg 134 425 \$1 10;
#X floatatom 271 391 6 0 0 0 - - - 0;
#X obj 271 366 r window-size;
#X msg 271 418 set \$1;
#X obj 271 448 block~ 2048;
#X connect 0 0 23 1;
#X connect 1 0 2 0;
#X connect 2 0 13 0;
#X connect 2 1 25 0;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 10 0;
#X connect 8 0 15 0;
#X connect 9 0 17 0;
#X connect 9 0 17 1;
#X connect 9 0 18 1;
#X connect 9 0 23 0;
#X connect 10 0 26 0;
#X connect 12 0 13 0;
#X connect 13 0 21 0;
#X connect 15 0 16 0;
#X connect 16 0 9 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 28 0;
#X connect 21 0 24 1;
#X connect 22 0 19 1;
#X connect 23 0 24 0;
#X connect 24 0 22 0;
#X connect 25 0 13 1;
#X connect 26 0 15 1;
#X connect 28 0 20 0;
#X connect 29 0 28 1;
#X connect 30 0 31 0;
#X connect 31 0 29 0;
#X connect 32 0 34 0;
#X connect 33 0 32 0;
#X connect 34 0 35 0;
#X restore 283 492 pd analysis;
#N canvas 661 173 385 508 looped-sample 0;
#X obj 135 417 tabread4~ sample;
#X obj 135 392 line~;
#X obj 135 269 f;
#X obj 207 132 r insamprate;
#X obj 135 463 outlet~;
#X obj 156 100 r insamplength;
#X msg 135 366 0 \, \$1 \$2;
#X obj 188 273 /;
#X obj 253 196 * 0.001;
#X obj 55 85 loadbang;
#X msg 55 113 1;
#X obj 55 187 metro 1000;
#X obj 207 161 t b b f;
#X obj 156 177 t b f;
#X obj 135 310 pack f f;
#X obj 55 150 tgl 19 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000 0 1;
#X obj 55 218 bng 19 250 50 0 empty empty empty 0 -10 0 12 #dfdfdf #000000 #000000;
#X listbox 135 339 18 0 0 0 - - - 0;
#X text 44 33 This subpatch plays the sample in a loop;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 14 0;
#X connect 3 0 12 0;
#X connect 5 0 13 0;
#X connect 6 0 1 0;
#X connect 7 0 11 1;
#X connect 7 0 14 1;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 10 0 15 0;
#X connect 11 0 16 0;
#X connect 12 0 10 0;
#X connect 12 1 7 0;
#X connect 12 2 8 0;
#X connect 13 0 10 0;
#X connect 13 1 7 0;
#X connect 13 1 2 1;
#X connect 14 0 17 0;
#X connect 15 0 11 0;
#X connect 16 0 2 0;
#X connect 17 0 6 0;
#X restore 406 492 pd looped-sample;
#X connect 5 0 14 0;
#X connect 6 0 57 1;
#X connect 11 0 43 2;
#X connect 12 0 18 0;
#X connect 14 0 24 1;
#X connect 15 0 24 2;
#X connect 16 0 24 1;
#X connect 18 0 57 0;
#X connect 20 0 14 1;
#X connect 24 0 21 0;
#X connect 24 0 21 1;
#X connect 32 0 43 3;
#X connect 38 0 18 1;
#X connect 40 0 24 0;
#X connect 41 0 43 0;
#X connect 42 0 41 0;
#X connect 46 0 43 1;
#X connect 47 0 43 1;
#X connect 48 0 43 1;
#X connect 57 0 10 0;
#X connect 57 1 7 0;
#X connect 58 0 22 0;
#X connect 58 0 22 1;
#X connect 59 0 23 0;
#X connect 59 0 23 1;
