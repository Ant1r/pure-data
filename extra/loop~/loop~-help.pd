#N canvas 748 47 676 603 12;
#X floatatom 51 206 3 0 0 0 - - - 0;
#X obj 272 396 print~;
#X msg 272 361 bang;
#X obj 59 352 loop~;
#X floatatom 91 293 0 0 0 0 - - - 0;
#X msg 73 266 bang;
#X obj 201 396 print~;
#X msg 201 361 bang;
#N canvas 0 0 450 300 (subpatch) 0;
#X array array2 150000 float 0;
#X coords 0 1 150000 -1 200 150 1;
#X restore 395 361 graph;
#X msg 393 522 \; array2 resize 150000;
#X obj 387 255 soundfiler;
#X obj 69 467 tabread4~ array2;
#X obj 69 411 *~;
#X obj 69 541 dac~;
#X obj 69 513 hip~ 5;
#X obj 114 416 samphold~;
#X obj 69 444 +~;
#X floatatom 114 317 0 0 0 0 - - - 0;
#X obj 114 340 *~ 1000;
#X msg 387 200 read ../doc/sound/bell.aiff array2;
#X msg 62 241 set 0.5;
#X text 78 202 left signal input is transposition (1 is normal \, 2
is up an octave \, etc), f 37;
#X text 122 242 set phase (0 to 1);
#X text 110 266 reset phase to 0;
#X text 117 292 right signal input is window size in samples;
#X text 142 316 here's how to handle onsets;
#X obj 69 490 *~;
#X floatatom 197 440 0 0 0 0 - - - 0;
#X obj 197 509 line~;
#X obj 197 463 dbtorms;
#X obj 197 486 pack 0 50;
#X text 224 439 output level 0-100;
#X text 205 340 print outputs;
#X text 41 56 loop~ takes input signals to set a window size and transposition
\, and outputs a phase and a sampled window size. The window size only
changes at phase zero crossings and the phase output is adjusted so
that changing window size doesn't change the transposition., f 79
;
#X text 41 123 You can send "bang" or "set" message to force the phase
to zero--you should mute the output before doing so. This may be desirable
if you've set a large window size but then want to decrease it without
waiting for the next phase crossing., f 79;
#X msg 399 226 read ../doc/sound/voice.wav array2;
#X obj 76 17 loop~;
#X text 120 16 - phase generator for looping samplers;
#X connect 0 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 6 0;
#X connect 3 0 12 0;
#X connect 3 0 15 1;
#X connect 3 1 1 0;
#X connect 3 1 12 1;
#X connect 4 0 3 1;
#X connect 5 0 3 0;
#X connect 7 0 6 0;
#X connect 11 0 26 0;
#X connect 12 0 16 0;
#X connect 14 0 13 0;
#X connect 14 0 13 1;
#X connect 15 0 16 1;
#X connect 16 0 11 0;
#X connect 17 0 18 0;
#X connect 18 0 15 0;
#X connect 19 0 10 0;
#X connect 20 0 3 0;
#X connect 26 0 14 0;
#X connect 27 0 29 0;
#X connect 28 0 26 1;
#X connect 29 0 30 0;
#X connect 30 0 28 0;
#X connect 35 0 10 0;
